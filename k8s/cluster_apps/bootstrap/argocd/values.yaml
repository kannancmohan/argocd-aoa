argo-cd:
  dex:
    enabled: false
  # notifications:
  #   enabled: false
  # applicationSet:
  #   enabled: false
  server:
    extraArgs:
      - --insecure
    # config:
    #   resource.ignoreResourceUpdatesEnabled: true
    #   resource.customizations.ignoreResourceUpdates.all: |
    #     jsonPointers:
    #       - /status
    #   resource.customizations.health.argoproj.io_Application: |
    #     hs = {}
    #     hs.status = "Progressing"
    #     hs.message = ""
    #     if obj.status ~= nil then
    #       if obj.status.health ~= nil then
    #         hs.status = obj.status.health.status
    #         if obj.status.health.message ~= nil then
    #           hs.message = obj.status.health.message
    #         end
    #       end
    #     end
    #     return hs
    ingress:
      enabled: true
      ingressClassName: traefik
      annotations:
        cert-manager.io/cluster-issuer: default-root-cert-issuer
      # hostname: &host argocd.k3s.local
      extraHosts:
        - name: &host argocd.k3s.local
          path: /
          pathType: Prefix
          service:
            name: main
            port: http
      # tls: true
      extraTls:
        - hosts:
          - *host # list of hosts included in the TLS certificate
          secretName: argocd-tls-cert # name of the secret used to terminate TLS traffic on port 443
      # tls:
      #   - secretName: argocd-tls-cert # name of the secret used to terminate TLS traffic on port 443
      #     hosts: # list of hosts included in the TLS certificate
      #       - *host
    # metrics: &metrics
    #   enabled: true
    #   serviceMonitor:
    #     enabled: true
